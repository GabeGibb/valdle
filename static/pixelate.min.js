function disableSmoothRendering(i){return i.webkitImageSmoothingEnabled=!1,i.mozImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.imageSmoothingEnabled=!1,i}function Pixelate(i,t){this.image=i,this.blurFactor=t,this.initialLoadIn()}Pixelate.prototype.render=function(){this.origCanvas.width=Math.floor(this.image.width/this.blurFactor),this.origCanvas.height=Math.floor(this.image.height/this.blurFactor);var i=this.origCanvas.width,t=this.origCanvas.height;return this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx2.drawImage(this.pixelImage,0,0,i,t),this.ctx.drawImage(this.origCanvas,0,0,i,t,0,0,this.width,this.height),$(this.image).css("display","none"),this},Pixelate.prototype.initialLoadIn=function(){var i=function(){this.imageUrl=this.image.src,this.width=this.image.clientWidth,this.height=this.image.clientHeight,this.canvas=document.createElement("canvas"),this.origCanvas=document.createElement("canvas"),this.canvas.style.display="none",this.origCanvas.style.display="none",this.canvas.width=this.width,this.canvas.height=this.height,this.origCanvas.width=Math.floor(this.image.width/this.blurFactor),this.origCanvas.height=Math.floor(this.image.height/this.blurFactor),this.canvas.style.cssText="image-rendering: optimizeSpeed;image-rendering: -moz-crisp-edges;image-rendering: -o-crisp-edges;image-rendering: -webkit-crisp-edges;image-rendering: crisp-edges;image-rendering: -webkit-optimize-contrast;image-rendering: pixelated; -ms-interpolation-mode: nearest-neighbor;",this.ctx=this.canvas.getContext("2d"),this.ctx2=this.origCanvas.getContext("2d"),this.ctx=disableSmoothRendering(this.ctx),this.ctx2=disableSmoothRendering(this.ctx2),this.image.parentNode.appendChild(this.canvas,this.image),this.updatePixelImage()}.bind(this);this.image.onload=i},Pixelate.prototype.updatePixelImage=function(){this.pixelImage=new Image,this.pixelImage.onload=function(){this.render()}.bind(this),this.pixelImage.src=this.imageUrl},Pixelate.prototype.updateBlurFactor=function(i){i<=0&&(i=.1),this.blurFactor=i,this.updatePixelImage()};